{"parents": [{"link": "../", "title": "RGVFlood End-User Interface Development"}], "prev": {"link": "../development/_autosummary/reoncc/", "title": "reoncc"}, "next": {"link": "../integrations/", "title": "Component Integrations"}, "title": "Cloud Infrastructure", "meta": {}, "body": "<section id=\"cloud-infrastructure\">\n<h1>Cloud Infrastructure<a class=\"headerlink\" href=\"#cloud-infrastructure\" title=\"Permalink to this heading\">\u00b6</a></h1>\n<p><a class=\"reference external\" href=\"https://glossary.rgvflood.com/en/latest/glossary.html#term-RGVFlood.com\" title=\"(in Glossary)\"><span class=\"xref std std-term\">RGVFlood.com</span></a> cloud deployment relies of conversion of it\u2019s component services to be converted to be delivered via a <a class=\"reference external\" href=\"https://glossary.rgvflood.com/en/latest/glossary.html#term-Microservices-Architecture\" title=\"(in Glossary)\"><span class=\"xref std std-term\">Microservices Architecture</span></a>. Several options are available for deploying the microservices version of <a class=\"reference external\" href=\"https://glossary.rgvflood.com/en/latest/glossary.html#term-RGVFlood.com\" title=\"(in Glossary)\"><span class=\"xref std std-term\">RGVFlood.com</span></a>, including an on-premise hardware cluster, Google Cloud Platform, Amazon Web Services and Microsoft\u2019s Azure.</p>\n<section id=\"google-cloud-platform\">\n<h2>Google Cloud Platform<a class=\"headerlink\" href=\"#google-cloud-platform\" title=\"Permalink to this heading\">\u00b6</a></h2>\n<p>Google Cloud Platfrom (<a class=\"reference external\" href=\"https://glossary.rgvflood.com/en/latest/glossary.html#term-GCP\" title=\"(in Glossary)\"><span class=\"xref std std-term\">GCP</span></a>) was selected as the initial platform for <a class=\"reference external\" href=\"https://glossary.rgvflood.com/en/latest/glossary.html#term-RGVFlood.com\" title=\"(in Glossary)\"><span class=\"xref std std-term\">RGVFlood.com</span></a>, based on Cost of Service, and integration with existing <a class=\"reference external\" href=\"https://glossary.rgvflood.com/en/latest/glossary.html#term-RATES\" title=\"(in Glossary)\"><span class=\"xref std std-term\">RATES</span></a> operations.</p>\n</section>\n<section id=\"google-app-engine\">\n<h2>Google App Engine<a class=\"headerlink\" href=\"#google-app-engine\" title=\"Permalink to this heading\">\u00b6</a></h2>\n<p>Google App Engine (<a class=\"reference external\" href=\"https://glossary.rgvflood.com/en/latest/glossary.html#term-GAE\" title=\"(in Glossary)\"><span class=\"xref std std-term\">GAE</span></a>) allows users to deploy containerized apps on <a class=\"reference external\" href=\"https://glossary.rgvflood.com/en/latest/glossary.html#term-GCP\" title=\"(in Glossary)\"><span class=\"xref std std-term\">GCP</span></a>, whithout have to worry about underlying server management. Other than providing a cloud testing environment for individual microservices, <a class=\"reference external\" href=\"https://glossary.rgvflood.com/en/latest/glossary.html#term-GAE\" title=\"(in Glossary)\"><span class=\"xref std std-term\">GAE</span></a> currently has limited utility for use in the <a class=\"reference external\" href=\"https://glossary.rgvflood.com/en/latest/glossary.html#term-RGVFlood.com\" title=\"(in Glossary)\"><span class=\"xref std std-term\">RGVFlood.com</span></a> ecosystem.</p>\n</section>\n<section id=\"google-compute-engine\">\n<h2>Google Compute Engine<a class=\"headerlink\" href=\"#google-compute-engine\" title=\"Permalink to this heading\">\u00b6</a></h2>\n<p><span class=\"xref std std-term\">Google</span> Compute Engine (<a class=\"reference external\" href=\"https://glossary.rgvflood.com/en/latest/glossary.html#term-GCE\" title=\"(in Glossary)\"><span class=\"xref std std-term\">GCE</span></a>) provides access to virtual machines (<a class=\"reference external\" href=\"https://glossary.rgvflood.com/en/latest/glossary.html#term-VM\" title=\"(in Glossary)\"><span class=\"xref std std-term\">VM</span></a>), and serves as the infrastructure basis for the <a class=\"reference external\" href=\"https://glossary.rgvflood.com/en/latest/glossary.html#term-GAE\" title=\"(in Glossary)\"><span class=\"xref std std-term\">GAE</span></a> environment. A <a class=\"reference external\" href=\"https://glossary.rgvflood.com/en/latest/glossary.html#term-GCE\" title=\"(in Glossary)\"><span class=\"xref std std-term\">GCE</span></a> <a class=\"reference external\" href=\"https://glossary.rgvflood.com/en/latest/glossary.html#term-VM\" title=\"(in Glossary)\"><span class=\"xref std std-term\">VM</span></a> was used to support the transition from a self-contained docker-stack to deploy a fully cloud-leverage <a class=\"reference external\" href=\"https://glossary.rgvflood.com/en/latest/glossary.html#term-RGVFlood.com\" title=\"(in Glossary)\"><span class=\"xref std std-term\">RGVFlood.com</span></a> deployment.</p>\n</section>\n<section id=\"google-kubernetes-engine\">\n<h2>Google Kubernetes Engine<a class=\"headerlink\" href=\"#google-kubernetes-engine\" title=\"Permalink to this heading\">\u00b6</a></h2>\n<p><span class=\"xref std std-term\">Google</span> Kubernetes Engine (<a class=\"reference external\" href=\"https://glossary.rgvflood.com/en/latest/glossary.html#term-GKE\" title=\"(in Glossary)\"><span class=\"xref std std-term\">GKE</span></a>) provides the user access to the container orchestration facilities of <a class=\"reference external\" href=\"https://glossary.rgvflood.com/en/latest/glossary.html#term-GCP\" title=\"(in Glossary)\"><span class=\"xref std std-term\">GCP</span></a>. Google\u2019s Autopilot custer configuration was selected for cluster creation, allowing for ease of horizontal (node/cpu) and vertical (memory) scaling. As a result, cluster size is reported in terms of the number of <a class=\"reference external\" href=\"https://glossary.rgvflood.com/en/latest/glossary.html#term-vCPU\" title=\"(in Glossary)\"><span class=\"xref std std-term\">vCPU</span></a> and memory rather than the traditional node count. Running the following applications to support continuous development:</p>\n<ul class=\"simple\">\n<li><p>geonodegcp-app</p></li>\n<li><p>reonode-app</p></li>\n<li><p>waterwizard-app</p></li>\n<li><p>rgvflood-app</p></li>\n</ul>\n<p>with nominal use, the cluster scaled to 9.75 <a class=\"reference external\" href=\"https://glossary.rgvflood.com/en/latest/glossary.html#term-vCPU\" title=\"(in Glossary)\"><span class=\"xref std std-term\">vCPU</span></a> and 38.2 GB of memory. With one <a class=\"reference external\" href=\"https://glossary.rgvflood.com/en/latest/glossary.html#term-vCPU\" title=\"(in Glossary)\"><span class=\"xref std std-term\">vCPU</span></a> being roughly equivalent to one hardware core, this is similar in capacity to a single standard bare-metal server. With the integration of user-application (e.g. RTHS Data API and Flood Wizard), along with anticipated end-user access and demand, horizontal scaling needs are expected to quadruple at a minimum.+</p>\n</section>\n<section id=\"cloudsql\">\n<h2>CloudSQL<a class=\"headerlink\" href=\"#cloudsql\" title=\"Permalink to this heading\">\u00b6</a></h2>\n<p>Rather than rely on containerized database services, the decision was made to switch to Google CloudSQL managed database services. Similar services are available though <a class=\"reference external\" href=\"https://glossary.rgvflood.com/en/latest/glossary.html#term-AWS\" title=\"(in Glossary)\"><span class=\"xref std std-term\">AWS</span></a> and <a class=\"reference external\" href=\"https://glossary.rgvflood.com/en/latest/glossary.html#term-Azure\" title=\"(in Glossary)\"><span class=\"xref std std-term\">Azure</span></a>. Unlike a single-stack <a class=\"reference external\" href=\"https://glossary.rgvflood.com/en/latest/glossary.html#term-Docker\" title=\"(in Glossary)\"><span class=\"xref std std-term\">Docker</span></a> deployment, switching to a <a class=\"reference external\" href=\"https://glossary.rgvflood.com/en/latest/glossary.html#term-K8s\" title=\"(in Glossary)\"><span class=\"xref std std-term\">K8s</span></a> with potentialy multiple replicas needing to access the database services, reliance on managed database services eliminates the need to construct and manage a separate workload specically for database services.</p>\n<p>The first step in transtioning to <a class=\"reference external\" href=\"https://glossary.rgvflood.com/en/latest/glossary.html#term-K8s\" title=\"(in Glossary)\"><span class=\"xref std std-term\">k8s</span></a> involved deploying the <code class=\"code docutils literal notranslate\"><span class=\"pre\">docker-compose.yml</span></code> stack on a <a class=\"reference external\" href=\"https://glossary.rgvflood.com/en/latest/glossary.html#term-GCE\" title=\"(in Glossary)\"><span class=\"xref std std-term\">GCE</span></a><a class=\"reference external\" href=\"https://glossary.rgvflood.com/en/latest/glossary.html#term-VM\" title=\"(in Glossary)\"><span class=\"xref std std-term\">VM</span></a>. The database service was then replaced with a CloudQSL-Proxy service, allowing the containers to access the databases managed by CloudDQL and permitting the number of replicas to be scale with no collisions or impacts in performance.</p>\n</section>\n<section id=\"filestore\">\n<h2>Filestore<a class=\"headerlink\" href=\"#filestore\" title=\"Permalink to this heading\">\u00b6</a></h2>\n<p>Persistent file storage is handled differently between standard <a class=\"reference external\" href=\"https://glossary.rgvflood.com/en/latest/glossary.html#term-Docker\" title=\"(in Glossary)\"><span class=\"xref std std-term\">Docker</span></a> desktop deployments and scalable <a class=\"reference external\" href=\"https://glossary.rgvflood.com/en/latest/glossary.html#term-K8s\" title=\"(in Glossary)\"><span class=\"xref std std-term\">K8s</span></a> clusters. Implelementing persistent storage between reboots and between containers for the <a class=\"reference external\" href=\"https://glossary.rgvflood.com/en/latest/glossary.html#term-K8s\" title=\"(in Glossary)\"><span class=\"xref std std-term\">K8s</span></a> deplyoment involved changing from volume mounts to and <a class=\"reference external\" href=\"https://glossary.rgvflood.com/en/latest/glossary.html#term-NFS\" title=\"(in Glossary)\"><span class=\"xref std std-term\">NFS</span></a> share. This <a class=\"reference external\" href=\"https://glossary.rgvflood.com/en/latest/glossary.html#term-NFS\" title=\"(in Glossary)\"><span class=\"xref std std-term\">NFS</span></a> share is also mounted by as <a class=\"reference external\" href=\"https://glossary.rgvflood.com/en/latest/glossary.html#term-GCE\" title=\"(in Glossary)\"><span class=\"xref std std-term\">GCE</span></a> <a class=\"reference external\" href=\"https://glossary.rgvflood.com/en/latest/glossary.html#term-VM\" title=\"(in Glossary)\"><span class=\"xref std std-term\">VM</span></a> used during the development process for debugging. It is anticipated that the volume of filestorage needed will eventually be in excess of 1TB, more once real-time forecast data is produced.</p>\n</section>\n</section>\n", "metatags": "<meta name=\"generator\" content=\"Docutils 0.17.1: http://docutils.sourceforge.net/\" />\n", "rellinks": [["genindex", "General Index", "I", "index"], ["py-modindex", "Python Module Index", "", "modules"], ["euidev/integrations/index", "Component Integrations", "N", "next"], ["euidev/development/_autosummary/reoncc", "reoncc", "P", "previous"]], "sourcename": "euidev/infrastructure/index.rst.txt", "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">Cloud Infrastructure</a><ul>\n<li><a class=\"reference internal\" href=\"#google-cloud-platform\">Google Cloud Platform</a></li>\n<li><a class=\"reference internal\" href=\"#google-app-engine\">Google App Engine</a></li>\n<li><a class=\"reference internal\" href=\"#google-compute-engine\">Google Compute Engine</a></li>\n<li><a class=\"reference internal\" href=\"#google-kubernetes-engine\">Google Kubernetes Engine</a></li>\n<li><a class=\"reference internal\" href=\"#cloudsql\">CloudSQL</a></li>\n<li><a class=\"reference internal\" href=\"#filestore\">Filestore</a></li>\n</ul>\n</li>\n</ul>\n", "display_toc": true, "page_source_suffix": ".rst", "current_page_name": "euidev/infrastructure/index", "sidebars": ["about.html", "navigation.html", "relations.html", "searchbox.html", "donate.html", "postcard.html", "recentposts.html", "tagcloud.html", "categories.html", "archives.html"], "customsidebar": null, "favicon_url": null, "logo_url": null, "alabaster_version": "0.7.12"}