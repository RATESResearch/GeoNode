{"parents": [{"link": "../../../", "title": "RGVFlood End-User Interface Development"}, {"link": "../../", "title": "Spyce"}], "prev": {"link": "../spyce/", "title": "spyce"}, "next": {"link": "../reonode/", "title": "reonode"}, "title": "waterwizard", "meta": {}, "body": "<section id=\"module-waterwizard\">\n<span id=\"waterwizard\"></span><h1>waterwizard<a class=\"headerlink\" href=\"#module-waterwizard\" title=\"Permalink to this heading\">\u00b6</a></h1>\n<p>The host platform for <em>Wizards</em> and project documentation deployment.\nTest Case Django App Management\n\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014-</p>\n<p>Baseline testing of Spyce for the deployment of RGVFlood is done using a test case application included with the Spyce application. The Spyce application is a Django-based app application relying on Cloud SQL for database and FileStore for filesystem functions. App management routines currently include creation and deletion of the Spyce Django app in a single-node docker stack and a multi-node GKE cluster.</p>\n<p>In order to ensure maximum portability of process, Cloud Storage and SQL services are provided though the use of environment variables interpreted by the Django <code class=\"code docutils literal notranslate\"><span class=\"pre\">settings.py</span></code> file. This allows the definition/re-definition of settings at app startup, depending on target emvironment.</p>\n<p>Cloud SQL services are provided by a Cloud SQL image referenced in the <code class=\"code docutils literal notranslate\"><span class=\"pre\">docker-compose.yml</span></code> and <code class=\"code docutils literal notranslate\"><span class=\"pre\">deployment.yaml</span></code> manifests for compose and k8s deployments respectively.</p>\n<p>Similarly, for serving static and media files, a Google FileStore (<a class=\"reference external\" href=\"https://cloud.google.com/filestore/docs/accessing-fileshares\">Accessing file shares from Google Kubernetes Engine clusters</a>) service is instantiated. The filestore is mounted at <code class=\"code docutils literal notranslate\"><span class=\"pre\">/data</span></code> in each GKE pod.</p>\n<p>Static files and media files are served from separate folders on the single Google Filestore NFS share, and pointed to using environment variables:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">MEDIA_ROOT</span> <span class=\"o\">=</span> <span class=\"n\">os</span><span class=\"o\">.</span><span class=\"n\">getenv</span><span class=\"p\">(</span><span class=\"s1\">&#39;MEDIA_ROOT&#39;</span><span class=\"p\">,</span> <span class=\"n\">os</span><span class=\"o\">.</span><span class=\"n\">path</span><span class=\"o\">.</span><span class=\"n\">join</span><span class=\"p\">(</span><span class=\"n\">BASE_DIR</span><span class=\"p\">,</span> <span class=\"s1\">&#39;media&#39;</span><span class=\"p\">))</span>\n<span class=\"n\">MEDIA_URL</span> <span class=\"o\">=</span> <span class=\"n\">os</span><span class=\"o\">.</span><span class=\"n\">getenv</span><span class=\"p\">(</span><span class=\"s1\">&#39;MEDIA_URL&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;/media/&#39;</span><span class=\"p\">)</span>\n\n<span class=\"n\">STATIC_ROOT</span> <span class=\"o\">=</span> <span class=\"n\">os</span><span class=\"o\">.</span><span class=\"n\">getenv</span><span class=\"p\">(</span><span class=\"s1\">&#39;STATIC_ROOT&#39;</span><span class=\"p\">,</span> <span class=\"n\">os</span><span class=\"o\">.</span><span class=\"n\">path</span><span class=\"o\">.</span><span class=\"n\">join</span><span class=\"p\">(</span><span class=\"n\">BASE_DIR</span><span class=\"p\">,</span> <span class=\"s1\">&#39;static&#39;</span><span class=\"p\">))</span>\n<span class=\"n\">STATIC_URL</span> <span class=\"o\">=</span> <span class=\"n\">os</span><span class=\"o\">.</span><span class=\"n\">getenv</span><span class=\"p\">(</span><span class=\"s1\">&#39;STATIC_URL&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;/static/&#39;</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<table class=\"autosummary longtable docutils align-default\">\n<colgroup>\n<col style=\"width: 10%\" />\n<col style=\"width: 90%\" />\n</colgroup>\n<tbody>\n</tbody>\n</table>\n</section>\n", "metatags": "<meta name=\"generator\" content=\"Docutils 0.17.1: http://docutils.sourceforge.net/\" />\n", "rellinks": [["genindex", "General Index", "I", "index"], ["py-modindex", "Python Module Index", "", "modules"], ["euidev/spyce/_autosummary/reonode", "reonode", "N", "next"], ["euidev/spyce/_autosummary/spyce", "spyce", "P", "previous"]], "sourcename": "euidev/spyce/_autosummary/waterwizard.rst.txt", "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">waterwizard</a></li>\n</ul>\n", "display_toc": false, "page_source_suffix": ".rst", "current_page_name": "euidev/spyce/_autosummary/waterwizard", "sidebars": ["about.html", "navigation.html", "relations.html", "searchbox.html", "donate.html", "postcard.html", "recentposts.html", "tagcloud.html", "categories.html", "archives.html"], "customsidebar": null, "favicon_url": null, "logo_url": null, "alabaster_version": "0.7.12"}